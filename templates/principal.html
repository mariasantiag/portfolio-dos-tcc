<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- link do CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        xintegrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">

        <!-- Link do JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        xintegrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous" defer></script>

        <!-- Link dos icones -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">

    <!-- Link do Sweet Alert -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.min.js" defer></script> 
    <script src="/static/js/vizualizacao-tcc.js" defer></script>
    <!-- Link do arquivo CSS -->
     <link rel="stylesheet" href="/static/css/tela_inicial.css">
     

    <title>Portifólio dos TCC's</title>

   
    
</head>

<body>
    <header class="header__ bg-light p-2">
        <div class="container-fluid">
        
            <div class="row align-items-center">
                
                <div class="col-8 col-md-6">
                    <form class="form__pesquisa" action="/pesquisar" method="GET">
                        <div class="input-group"> 
                            <input type="text" id="pesquisa_palavra_chave" name="pesquisa_palavra_chave" class="form-control" placeholder="Search" aria-label="Recipient's username" aria-describedby="button-addon2">
                            <button class="btn btn-outline-secondary" type="button" id="button-addon2">
                                <i class="bi bi-search"></i>
                            </button>
                        </div>
                    </form>
                </div>


                
                <div class="col-4 col-md-6 d-flex justify-content-end align-items-center gap-3 container__filter__login">
                    {% if session.usuario %}
                    <div class="row ">
                        <div class="col-12"> 
                            <span class="header__user">Olá, {{session.nome_usuario}}</span>
                        </div>
                    </div>
                    {% endif %}
                    <div class="dropdown">
                         <i class="bi bi-funnel fs-3 text-white" role="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false"></i>
                         <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                             <li><a class="dropdown-item" href="#">Página Inicial</a></li>
                             <li><a class="dropdown-item" href="#">Ano</a></li>
                         </ul>
                    </div>
                    
                    <div class="dropdown ">
                         <button class="btn rounded-circle" id="dropdownLogin" data-bs-toggle="dropdown" aria-expanded="false">
                             <i class="bi bi-person-circle fs-3 text-white"></i>
                         </button>
                         <ul class="dropdown-menu" aria-labelledby="dropdownLogin">
                             {% if session.usuario %} 
                             <li><a class="dropdown-item" href="/deslogar">Sair</a></li>
                             {% else %}
                             <li><a class="dropdown-item" href="/paginalogin">Entrar</a></li>
                             <li><hr class="dropdown-divider"></li>
                             {% endif %}
                         </ul>
                    </div>
                </div>
            </div> 
      </header>
      
    <!-- body da página -->
    <main class="info_ _principal">

                 <figure class="logo">
                    <img src="../static/img/logoBibliotcca.png" alt="logoBibliotcca">
                </figure>
        
        <!-- seção DESTAQUES -->
        <section class="sec__destaques">
            <div class="tittle__destaque">
                <h2>Destaques</h2>
            </div>
            
            <div class="grid__destaque">
                {% for destaque in destaques %}
                <div onclick="viewpdf('static/pdf/{{ destaque.pdf_nome }}')" class="card__destaque btn-view-tcc">
                    <div class="card__conteudo">
                        <div class="card__header">
                            <h4 class="card__titulo">{{ destaque.titulo }}</h4>
                            <span class="card__data">{{ destaque.data }}</span>
                        </div>
                        <p class="card__descricao">
                            {{ destaque.descricao }}
                        </p>
                        <p class="card__autores">
                            <strong>Autores:</strong> {{ destaque.autor }}
                        </p>
                        <p class="card__autores">
                            <strong>Curso:</strong> {{ destaque.nome_curso }}
                        </p>
                        <p class="card__autores">
                            <strong>Professores:</strong> {{ destaque.orientadores }}
                        </p>
                    </div>
                </div>
                {% endfor %}
            </div>
              
        </section>

        <!-- seção RECENTES -->
        <section class="sec__recentes">
            <div class="tittle__recentes">
                <h2>Recentes</h2>
            </div>

            {% for tcc in tccs %}
            <div class="container__func_tccs">
                
                <div class="grid__recentes">
                        
                        <div onclick= 'viewpdf("static/pdf/{{tcc.pdf_nome}}")'  class="card__recentes btn-view-tcc">
                            <!-- 1. O CONTEÚDO fica aqui -->
                            <div class="card__conteudo">
                                <div class="card__header">
                                    <h4 class="card__titulo">{{tcc.titulo}}</h4>
                                    <span class="card__data">{{tcc.data}}</span>
                                </div>
                                <p class="card__descricao">
                                    {{tcc.descricao}}
                                </p>
                                <p class="card__autores">
                                    <strong>Autores:</strong> {{tcc.autor}}
                                </p>
                                <p class="card__autores">
                                    <strong>Curso:</strong> {{tcc.nome_curso}}
                                </p>
                                <p class="card__autores">
                                    <strong>Professores:</strong> {{tcc.orientadores}}
                                </p>
                                
                            </div>
                            
                            

                            
                         
                            
                            
                        </div>
                        <div class="tcc_view">
                            <button class="btn-close"><i class="bi bi-x" ></i></button> 
                            <div class="view-pdf">
                                <div class="tcc-renderer">
                                </div> 
                                <div class="no-copy-overlay">
                                </div>
                            </div>
                        </div>
                    </div>
                

                    
                        <div class="card__actions">
                            <a href="#" class="btn__edit"><i class="bi bi-pencil-square"></i></a>
                            <a href="/apagartcc/{{tcc.codigo}}" class="btn__excluir" ><i class="bi bi-trash-fill"  ></i></a></li>
                        </div>
                 

                </div>
            {% endfor %}
        </section>
        
        <!-- Botão flutuante "+" -->
        {% if session.usuario %}
        <div class="add__tcc dropdown__add">
            <i class="bi bi-plus-circle fs-1" role="button" id="dropdownAddButton" data-bs-toggle="dropdown" aria-expanded="false"></i>
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownAddButton">
                <li><a class="dropdown-item" href="/paginacadastrotcc">Adicionar TCC</a></li>
                <li><a class="dropdown-item" href="/paginaorientadorcurso">Adicionar Orientador e Curso</a></li>
            </ul>
        </div>
        {% endif %}

    </main>
</body>

</html>

